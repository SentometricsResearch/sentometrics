<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Retrieve top-down model sentiment attributions — attributions • sentometrics</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Retrieve top-down model sentiment attributions — attributions" />
<meta property="og:description" content="Computes the attributions to predictions for a (given) number of dates at all possible sentiment dimensions,
based on the coefficients associated to each sentiment measure, as estimated in the provided model object." />
<meta property="og:image" content="https://sborms.github.io/sentometrics/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sentometrics</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.8.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/sentometrics.html">Get started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Examples
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Tutorials</li>
    <li>
      <a href="../articles/corpus.html">Corpus manipulation</a>
    </li>
    <li>
      <a href="../articles/sentiment.html">Sentiment computation</a>
    </li>
    <li>
      <a href="../articles/indexation.html">Indexation</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Applications</li>
    <li>
      <a href="../articles/epu.html">Creating EPU indices</a>
    </li>
    <li>
      <a href="../articles/vix.html">Predicting the VIX index</a>
    </li>
  </ul>
</li>
<li>
  <a href="../articles/research.html">Research</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    News
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/development.html">Development</a>
    </li>
    <li>
      <a href="../news/index.html">Releases</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/sborms/sentometrics/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Retrieve top-down model sentiment attributions</h1>
    <small class="dont-index">Source: <a href='https://github.com/sborms/sentometrics/blob/master/R/attribution.R'><code>R/attribution.R</code></a></small>
    <div class="hidden name"><code>attributions.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Computes the attributions to predictions for a (given) number of dates at all possible sentiment dimensions,
based on the coefficients associated to each sentiment measure, as estimated in the provided model object.</p>
    </div>

    <pre class="usage"><span class='fu'>attributions</span>(
  <span class='no'>model</span>,
  <span class='no'>sento_measures</span>,
  <span class='kw'>do.lags</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>do.normalize</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>refDates</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>factor</span> <span class='kw'>=</span> <span class='kw'>NULL</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>model</th>
      <td><p>a <code>sento_model</code> or a <code>sento_modelIter</code> object created with <code><a href='sento_model.html'>sento_model</a></code>.</p></td>
    </tr>
    <tr>
      <th>sento_measures</th>
      <td><p>the <code>sento_measures</code> object, as created with <code><a href='sento_measures.html'>sento_measures</a></code>, used to estimate
the model from the first argument (make sure this is the case!).</p></td>
    </tr>
    <tr>
      <th>do.lags</th>
      <td><p>a <code>logical</code>, <code>TRUE</code> also computes the attribution to each time lag. For large time lags,
this is time-consuming.</p></td>
    </tr>
    <tr>
      <th>do.normalize</th>
      <td><p>a <code>logical</code>, <code>TRUE</code> divides each element of every attribution vector at a given date by its
L2-norm at that date, normalizing the values between -1 and 1. The document attributions are not normalized.</p></td>
    </tr>
    <tr>
      <th>refDates</th>
      <td><p>the dates (as <code>"yyyy-mm-dd"</code>) at which attribution is to be performed. These should be between the latest
date available in the input <code>sento_measures</code> object and the first estimation sample date (that is, <code>model$dates[1]</code>
if <code>model</code> is a <code>sento_model</code> object). All dates should also be in <code><a href='get_dates.html'>get_dates(sento_measures)</a></code>. If
<code>NULL</code> (default), attribution is calculated for all in-sample dates. Ignored if <code>model</code> is a <code>sento_modelIter</code>
object, for which attribution is calculated for all out-of-sample prediction dates.</p></td>
    </tr>
    <tr>
      <th>factor</th>
      <td><p>the factor level as a single <code>character</code> vector to calculate attribution
for in case of (a) multinomial model(s). Ignored for linear and binomial models.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A <code>list</code> of class <code>attributions</code>, with <code>"documents"</code>, <code>"lags"</code>, <code>"lexicons"</code>,
<code>"features"</code> and <code>"time"</code> as attribution dimensions. The last four dimensions are
<code>data.table</code>s having a <code>"date"</code> column and the other columns the different components of the dimension, with
the attributions as values. Document-level attribution is further decomposed into a <code>data.table</code> per date, with
<code>"id"</code>, <code>"date"</code> and <code>"attrib"</code> columns. If <code>do.lags = FALSE</code>, the <code>"lags"</code> element is set
to <code>NULL</code>.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>See <code><a href='sento_model.html'>sento_model</a></code> for an elaborate modelling example including the calculation and plotting of
attributions. The attribution for logistic models is represented in terms of log odds. For binomial models, it is
calculated with respect to the last factor level or factor column. A <code>NULL</code> value for document-level attribution
on a given date means no documents are directly implicated in the associated prediction.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='sento_model.html'>sento_model</a></code></p></div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://www.linkedin.com/in/sam-borms'>Samuel Borms</a>, <a href='https://ardiad.github.io/website'>David Ardia</a>, <a href='https://www.kevenbluteau.com'>Keven Bluteau</a>, <a href='https://linkedin.com/in/krisboudt'>Kris Boudt</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


